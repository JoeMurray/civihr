require.config({    //urlArgs: "bust=" + (new Date()).getTime(),    paths: {        angular: 'vendor/angular/angular',        //angular: 'vendor/angular/angular.min',        angularBootstrap: 'vendor/angular/ui-bootstrap-tpls',        angularResource: 'vendor/angular/angular-resource.min',        angularRoute: 'vendor/angular/angular-route.min',        //angularMocks: 'vendor/angular/angular-mocks',        //jQuery: 'vendor/jquery.min',        //jQuerySelect2: 'http://localhost:9876/base/packages/jquery/plugins/select2/select2',        //d3: 'vendor/d3',        d3: 'vendor/d3.min',        lodash: 'vendor/lodash.min',        moment: 'vendor/moment.min'        //CiviCommon: 'http://localhost:9876/base/js/Common'    },    shim: {        angular: {            exports: 'angular'        },        angularBootstrap: {            deps: ['angular']        },        angularResource: {            deps: ['angular']        },        angularRoute: {            deps: ['angular']        }    }});if (typeof isTest !== 'undefined') {    require([        'angular',        'app',        'controllers/contactSummary',        'directives/example'        //'CiviCommon'    ], configure);} else {    require([        'angular',        'app',        'controllers/contactSummary',        'directives/example'    ], configure);}function configure(angular, app) {    'use strict';    app.constant('settings', {        classNamePrefix: 'contactSummary-',        contactId: decodeURIComponent((new RegExp('[?|&]cid=([^&;]+?)(&|#|;|$)').exec(location.search) || [, ""])[1].replace(/\+/g, '%20')) || null,        debug: true,        pathApp: '',        pathRest: CRM.url('civicrm/ajax/rest'),        pathBaseUrl: CRM.vars.contactsummary.baseURL + '/',        pathTpl: 'views/'    });    app.config(['settings', '$routeProvider', '$resourceProvider', '$httpProvider', '$logProvider',        function (settings, $routeProvider, $resourceProvider, $httpProvider, $logProvider) {            $logProvider.debugEnabled(settings.debug);            $routeProvider.              when('/', {                  controller: 'ContactSummaryCtrl',                  controllerAs: 'ContactSummaryCtrl',                  templateUrl: settings.pathBaseUrl + settings.pathTpl + 'mainTemplate.html',                  resolve: {}              }            ).otherwise({redirectTo: '/'});            $resourceProvider.defaults.stripTrailingSlashes = false;            $httpProvider.defaults.headers.common["X-Requested-With"] = 'XMLHttpRequest';        }    ]);    app.run(['settings', '$rootScope', '$q', '$log',        function (settings, $rootScope, $q, $log) {            $log.debug('app.run');            $rootScope.pathTpl = settings.pathTpl;            $rootScope.prefix = settings.classNamePrefix;        }    ]);    document.addEventListener('contactsummaryLoad', function () {        angular.bootstrap(document.getElementById('contactsummary'), ['contactsummary']);    });}